webpackJsonp([7],{"3fqr":function(t,a){},UbIS:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Dd8w"),n=s.n(e),i=s("NYxO"),o={name:"Articles",components:{Right:s("TdvZ").a},data:function(){return{msg:"",msgType:"",msgShow:!1,dataList:[],pagination:[]}},created:function(){var t=this,a=this.$route.query.typeId,s=this.$route.query.page;this.axios.get("http://www.xiaoyeyedada.cn/api/blogTypes/"+a+"/articles?page="+s).then(function(a){t.dataList=a.data.data,t.pagination=a.data.meta.pagination,console.log(a.data.meta)}).catch(function(t){console.log(t)})},beforeRouteEnter:function(t,a,s){var e=a.name,n=t.params.logout;s(function(t){if(t.$store.state.auth)switch(e){case"Register":t.showMsg("注册成功");break;case"Login":t.showMsg("登录成功")}else n&&t.showMsg("操作成功")})},computed:n()({},Object(i.b)(["auth","user","articles"]),{currentPage:function(){return parseInt(this.$route.query.page)||1}}),watch:{auth:function(t){t||this.showMsg("操作成功")}},methods:{fpage:function(t){var a=this;t<1&&(t=1),t>a.pagination.total_pages&&(t=a.pagination.total_pages),this.$router.push({query:n()({},this.$route.query,{page:t})});var s=this.$route.query.typeId,e=this.$route.query.page;this.axios.get("http://www.xiaoyeyedada.cn/api/blogTypes/"+s+"/articles?page="+e).then(function(t){a.dataList=t.data.data,a.pagination=t.data.meta.pagination,console.log(t.data.meta)}).catch(function(t){console.log(t)})},showMsg:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.msg=t,this.msgType=a,this.msgShow=!0}}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("Message",{attrs:{show:t.msgShow,type:t.msgType,msg:t.msg},on:{"update:show":function(a){t.msgShow=a}}}),t._v(" "),s("div",{staticClass:"main index_main"},[s("div",{staticClass:"page_left"},[s("ul",{staticClass:"page_left_list"},t._l(t.dataList,function(a){return s("li",[s("router-link",{staticClass:"pic",attrs:{to:{name:"Detail",query:{id:a.id}}}},[s("img",{attrs:{src:a.img,alt:""}})]),t._v(" "),s("h2",{staticClass:"title"},[s("router-link",{attrs:{to:{name:"Detail",query:{id:a.id}}}},[s("p",{domProps:{textContent:t._s(a.title)}})])],1),t._v(" "),s("div",{staticClass:"date_hits"},[s("span",[t._v(t._s(a.author))]),s("span",[t._v(t._s(a.created_at))]),s("span",{staticClass:"type"},[t._v(t._s(a.type))])]),t._v(" "),s("div",{staticClass:"desc"},[t._v(t._s(a.desc))])],1)})),t._v(" "),s("div",{staticClass:"page"},[s("span",[t._v("共"+t._s(t.pagination.total)+"篇文章，当前第"+t._s(t.pagination.current_page)+"页")]),t._v(" "),s("a",{staticClass:"btn btn-info",on:{click:function(a){t.fpage(1)}}},[t._v("首页")]),t._v(" "),s("a",{staticClass:"btn btn-info",on:{click:function(a){t.fpage(parseInt(t.pagination.current_page)-1)}}},[t._v("上一页")]),t._v(" "),s("a",{staticClass:"btn btn-info",on:{click:function(a){t.fpage(parseInt(t.pagination.current_page)+1)}}},[t._v("下一页")]),t._v(" "),s("a",{staticClass:"btn btn-info",on:{click:function(a){t.fpage(t.pagination.total_pages)}}},[t._v("尾页")]),t._v(" "),s("input",{staticClass:"page_number",attrs:{type:"text"}}),t._v(" "),s("button",{staticClass:"btn btn-info"},[t._v("跳转")])])]),t._v(" "),s("Right")],1)],1)},staticRenderFns:[]};var r=s("VU/8")(o,c,!1,function(t){s("3fqr")},"data-v-11dfe1bc",null);a.default=r.exports}});
//# sourceMappingURL=7.e39f071f906bb23ea9f3.js.map